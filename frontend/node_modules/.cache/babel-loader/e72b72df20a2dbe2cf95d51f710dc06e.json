{"ast":null,"code":"var _jsxFileName = \"/home/mitchell/Flatiron/Fun-Financial-v2/frontend/src/containers/ProfileContainer.js\";\nimport React, { useState, useEffect } from 'react';\nimport { NavLink } from 'react-router-dom';\n\nconst ProfileContainer = () => {\n  const [userInfo, setUser] = useState([]);\n  const [wallet, setWallet] = useState([]);\n  const [creditScore, setScore] = useState([]);\n  const [creditLine, setCreditLine] = useState([]);\n\n  const getUserInfo = () => {\n    fetch('http://localhost:3000/users', {\n      method: \"GET\",\n      headers: {\n        Authorization: `Bearer ${localStorage.token}`\n      }\n    }).then(resp => resp.json()).then(users => {\n      // console.log(users)\n      setUser(users);\n    });\n  };\n\n  useEffect(() => {\n    getUserInfo();\n    getWalletInfo();\n    getCreditScoreInfo();\n    getCreditLineInfo();\n  }, []);\n  const user = userInfo ? userInfo.find(user => user.id == localStorage.userId) : null; // console.log(user)\n\n  const getWalletInfo = () => {\n    fetch(`http://localhost:3000/wallets/${localStorage.walletId}`, {\n      method: \"GET\",\n      headers: {\n        Authorization: `Bearer ${localStorage.token}`\n      }\n    }).then(resp => resp.json()).then(wallet => {\n      // console.log(wallet)\n      setWallet(wallet);\n    });\n  };\n\n  const getCreditScoreInfo = () => {\n    fetch(`http://localhost:3000/credit_scores/${localStorage.creditScoreId}`, {\n      method: \"GET\",\n      headers: {\n        Authorization: `Bearer ${localStorage.token}`\n      }\n    }).then(resp => resp.json()).then(score => {\n      // console.log(score)\n      setScore(score);\n    });\n  };\n\n  const getCreditLineInfo = () => {\n    fetch(`http://localhost:3000/credit_lines/${localStorage.creditLineId}`, {\n      method: \"GET\",\n      headers: {\n        Authorization: `Bearer ${localStorage.token}`\n      }\n    }).then(resp => resp.json()).then(credit => {\n      console.log(credit);\n      setCreditLine(credit);\n    });\n  };\n\n  if (localStorage.role === child) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }\n    }, user ? user.firstname : null, \" \", user ? user.lastname : null), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }\n    }, user ? user.email : null), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }\n    }, user ? user.username : null), localStorage.role === \"child\" ? /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 46\n      }\n    }, \"Wallet:\") : null, localStorage.role === \"child\" ? /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 46\n      }\n    }, \"$\", wallet.amount) : null, localStorage.role === \"child\" ? /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 46\n      }\n    }, \"Credit Line:\") : null, localStorage.role === \"child\" ? /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 46\n      }\n    }, \"0/\", creditLine.amount) : null, localStorage.role === \"child\" ? /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 46\n      }\n    }, \"Credit Score:\") : null, localStorage.role === \"child\" ? /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 46\n      }\n    }, creditScore.score) : null);\n  } else {}\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, \"hello\"));\n};\n\nexport default ProfileContainer;","map":{"version":3,"sources":["/home/mitchell/Flatiron/Fun-Financial-v2/frontend/src/containers/ProfileContainer.js"],"names":["React","useState","useEffect","NavLink","ProfileContainer","userInfo","setUser","wallet","setWallet","creditScore","setScore","creditLine","setCreditLine","getUserInfo","fetch","method","headers","Authorization","localStorage","token","then","resp","json","users","getWalletInfo","getCreditScoreInfo","getCreditLineInfo","user","find","id","userId","walletId","creditScoreId","score","creditLineId","credit","console","log","role","child","firstname","lastname","email","username","amount"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { NavLink } from 'react-router-dom'\n\n\n\nconst ProfileContainer = () => {\n\n    const [userInfo, setUser] = useState([])\n    const [wallet, setWallet] = useState([])\n    const [creditScore, setScore] = useState([])\n    const [creditLine, setCreditLine] = useState([])\n\n\n    const getUserInfo = () => {\n        fetch('http://localhost:3000/users', {\n          method: \"GET\",\n          headers: {\n            Authorization: `Bearer ${localStorage.token}`\n          }\n        })\n        .then(resp => resp.json())\n        .then(users => {\n            // console.log(users)\n            setUser(users)\n        })\n        };\n         \n        useEffect(() => {\n            getUserInfo(); \n            getWalletInfo()\n            getCreditScoreInfo()\n            getCreditLineInfo()\n        }, \n        [])\n\n        const user = userInfo ? userInfo.find(user => user.id == localStorage.userId) : null\n        // console.log(user)\n\n        const getWalletInfo = () => {\n            fetch(`http://localhost:3000/wallets/${localStorage.walletId}`, {\n          method: \"GET\",\n          headers: {\n            Authorization: `Bearer ${localStorage.token}`\n          }\n        })\n        .then(resp => resp.json())\n        .then(wallet => {\n            // console.log(wallet)\n            setWallet(wallet)\n        })\n        }\n\n        const getCreditScoreInfo = () => {\n            fetch(`http://localhost:3000/credit_scores/${localStorage.creditScoreId}`, {\n          method: \"GET\",\n          headers: {\n            Authorization: `Bearer ${localStorage.token}`\n          }\n        })\n        .then(resp => resp.json())\n        .then(score => {\n            // console.log(score)\n            setScore(score)\n        })\n        }\n\n        const getCreditLineInfo = () => {\n            fetch(`http://localhost:3000/credit_lines/${localStorage.creditLineId}`, {\n          method: \"GET\",\n          headers: {\n            Authorization: `Bearer ${localStorage.token}`\n          }\n        })\n        .then(resp => resp.json())\n        .then(credit => {\n            console.log(credit)\n            setCreditLine(credit)\n        })\n        }\n\n        \n\n\n    if (localStorage.role === child){ return(\n        <div>\n            <h4>{user ? user.firstname : null} {user ? user.lastname : null}</h4>\n            <p>{user ? user.email : null}</p>\n            <p>{user ? user.username : null}</p>\n            \n            {localStorage.role === \"child\" ? <h5>Wallet:</h5> : null}\n            {localStorage.role === \"child\" ? <p>${wallet.amount}</p> : null}\n\n            {localStorage.role === \"child\" ? <h5>Credit Line:</h5> : null}\n            {localStorage.role === \"child\" ? <p>0/{creditLine.amount}</p> : null}\n\n            {localStorage.role === \"child\" ? <h5>Credit Score:</h5> : null}\n            {localStorage.role === \"child\" ? <p>{creditScore.score}</p> : null}\n\n        </div>\n    )} else {} return(\n        <div>\n            <h4>hello</h4>\n        </div>\n    )\n}\n\nexport default ProfileContainer;\n"]},"metadata":{},"sourceType":"module"}